(()=>{"use strict";var e={338:(e,t,s)=>{var n=s(795);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},20:(e,t,s)=>{var n=s(609),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,s){var n,o={},c=null,d=null;for(n in void 0!==s&&(c=""+s),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)a.call(t,n)&&!i.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===o[n]&&(o[n]=t[n]);return{$$typeof:r,type:e,key:c,ref:d,props:o,_owner:l.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},848:(e,t,s)=>{e.exports=s(20)},609:e=>{e.exports=window.React},795:e=>{e.exports=window.ReactDOM}},t={};function s(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,s),o.exports}const n=window.wp.i18n,r=window.wc.wcBlocksRegistry,o=window.wp.htmlEntities,a=window.wc.wcSettings;var l=s(848);const i=({settings:e,name:t,props:s})=>{const n=e?.translations;var r=parseFloat(e?.oney_response[t].down_payment_amount),o=r;e?.oney_response[t].installments.forEach((e=>{o+=parseFloat(e.amount)}));let a=void 0!==n["3rd_monthly_payment"];return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"payplug-oney-flex",children:[(0,l.jsxs)("div",{children:[n.bring," :"]}),(0,l.jsxs)("div",{children:[r," ",s.billing.currency.symbol]})]}),(0,l.jsx)("div",{className:"payplug-oney-flex",children:(0,l.jsxs)("small",{children:["( ",n.oney_financing_cost,(0,l.jsxs)("b",{children:[e?.oney_response[t].total_cost," ",s.billing.currency.symbol]})," TAEG : ",(0,l.jsxs)("b",{children:[e?.oney_response[t].effective_annual_percentage_rate," %"]})," )"]})}),(0,l.jsxs)("div",{className:"payplug-oney-flex",children:[(0,l.jsxs)("div",{children:[n["1st_monthly_payment"],":"]}),(0,l.jsxs)("div",{children:[e?.oney_response[t].installments[0].amount," ",s.billing.currency.symbol]})]}),(0,l.jsxs)("div",{className:"payplug-oney-flex",children:[(0,l.jsxs)("div",{children:[n["2nd_monthly_payment"],":"]}),(0,l.jsxs)("div",{children:[e?.oney_response[t].installments[1].amount," ",s.billing.currency.symbol]})]}),a?(0,l.jsxs)("div",{className:"payplug-oney-flex",children:[(0,l.jsxs)("div",{children:[n["3rd_monthly_payment"],":"]}),(0,l.jsxs)("div",{children:[e?.oney_response[t].installments[2].amount," ",s.billing.currency.symbol]})]}):(0,l.jsx)(l.Fragment,{}),(0,l.jsxs)("div",{className:"payplug-oney-flex",children:[(0,l.jsx)("div",{children:(0,l.jsx)("b",{children:n.oney_total})}),(0,l.jsx)("div",{children:(0,l.jsxs)("b",{children:[o.toFixed(2)," ",s.billing.currency.symbol]})})]})]})})},c=(0,a.getSetting)("oney_x3_with_fees_data",{}),d=(0,n.__)("Gateway method title","payplug"),p=(0,o.decodeEntities)(c?.title)||d,y=e=>(0,l.jsx)(i,{settings:c,name:"x3_with_fees",props:e}),m=()=>(0,l.jsxs)("span",{style:{width:"100%"},children:[p,(0,l.jsx)(u,{})]}),u=()=>(0,l.jsx)("img",{src:c?.icon.src,alt:c?.icon.alt,className:c.icon.class,style:{float:"right"}});let _={name:"oney_x3_with_fees",label:(0,l.jsx)(m,{}),content:(0,l.jsx)(y,{}),edit:(0,l.jsx)(y,{}),canMakePayment:e=>!(e.cart.cartItemsCount>c?.requirements.max_quantity||e.cartTotals.total_price>c?.requirements.max_threshold||e.cartTotals.total_price<c?.requirements.min_threshold||-1===c?.requirements.allowed_country_codes.indexOf(e.shippingAddress.country)),ariaLabel:p,supports:{features:c.supports}};(0,r.registerPaymentMethod)(_),(()=>{if(window?.wp?.data?.select("wc/store/cart")&&document.body.classList.contains("woocommerce-cart")){const{createElement:e}=window.wp.element,{select:t}=window.wp.data,{createRoot:n}=s(338);let r=null;const o=()=>{const s=t("wc/store/cart");if(function(){let e=!1;return s.getCartData().items.forEach((function(t){["subscription","downloadable_subscription","virtual_subscription","variable-subscription","subscription_variation"].includes(t.type)&&(e=!0)})),e}())return!1;let n=s?.getCartTotals()?.total_price||0,r=0;s?.getCartData().items.forEach((e=>{r+=parseFloat(e.quantity)}));let o=!1;return o=n>=c?.requirements.min_threshold&&n<=c?.requirements.max_threshold&&r<=c?.requirements.max_quantity,e("div",{className:"wc-block-components-totals-item payplug-oney",style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},[e("div",{className:"oney-message",style:{display:"flex",alignItems:"center",gap:"8px"}},c.oney_cart_label),e("img",{src:c?.oney_cart_logo,alt:"Oney Payplug",className:"oney-3x4x "+(o?"":"disable-checkout-icons"),style:{maxWidth:"50%",height:"auto",display:"block",margin:"10px 0"}})])},a=()=>{try{if(document.querySelector(".wc-block-components-totals-wrapper")){let e=document.querySelector(".payplug-totals-container");const t=document.querySelector(".wc-block-components-totals-wrapper");e||(e=document.createElement("div"),e.className="payplug-totals-container",t.insertBefore(e,t.firstChild),r=n(e)),r&&r.render(o())}}catch(e){console.error("Render error:",e)}};new MutationObserver(((e,s)=>{document.querySelector(".wc-block-components-totals-wrapper")&&window.wc?.blocksCheckout&&(s.disconnect(),a(),wp.data.subscribe((()=>{const e=t("wc/store/cart"),s=e?.getCartTotals();s&&a()})))})).observe(document.body,{childList:!0,subtree:!0})}})()})();