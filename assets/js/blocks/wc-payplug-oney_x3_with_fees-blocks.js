(()=>{"use strict";var e={20:(e,s,n)=>{var t=n(609),i=Symbol.for("react.element"),a=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),l=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function r(e,s,n){var t,r={},c=null,d=null;for(t in void 0!==n&&(c=""+n),void 0!==s.key&&(c=""+s.key),void 0!==s.ref&&(d=s.ref),s)a.call(s,t)&&!o.hasOwnProperty(t)&&(r[t]=s[t]);if(e&&e.defaultProps)for(t in s=e.defaultProps)void 0===r[t]&&(r[t]=s[t]);return{$$typeof:i,type:e,key:c,ref:d,props:r,_owner:l.current}}s.jsx=r,s.jsxs=r},848:(e,s,n)=>{e.exports=n(20)},609:e=>{e.exports=window.React}},s={};const n=window.wp.i18n,t=window.wc.wcBlocksRegistry,i=window.wp.htmlEntities,a=window.wc.wcSettings;var l=function n(t){var i=s[t];if(void 0!==i)return i.exports;var a=s[t]={exports:{}};return e[t](a,a.exports,n),a.exports}(848);const{useSelect:o}=wp.data,r=(0,a.getSetting)("oney_x3_with_fees_data",{}),c=(0,n.__)("Gateway method title","payplug"),d=(0,i.decodeEntities)(r?.title)||c;let _;const y=r?.translations,u=r?.requirements.allowed_country_codes,x=r?.oney_response;if(void 0!==x.x3_with_fees){var m=parseFloat(r?.oney_response.x3_with_fees.down_payment_amount),h=m;r?.oney_response.x3_with_fees.installments.forEach((e=>{h+=parseFloat(e.amount)})),_=e=>{let s=e.shippingData.shippingAddress.country;return-1===u.indexOf(s)?(r.icon.class="disable-checkout-icons",(0,l.jsx)("div",{className:r?.oney_disabled.validations.country.class,children:r?.oney_disabled.validations.country.text})):e.cartData.cartItems.length>r?.requirements.max_quantity?(r.icon.class="disable-checkout-icons",(0,l.jsx)("div",{className:r?.oney_disabled.validations.items_count.class,children:r?.oney_disabled.validations.items_count.text})):e.billing.cartTotal.value>r?.requirements.max_threshold||e.billing.cartTotal.value<r?.requirements.min_threshold?(r.icon.class="disable-checkout-icons",(0,l.jsx)("div",{className:r?.oney_disabled.validations.amount.class,children:r?.oney_disabled.validations.amount.text})):(r.icon.class="payplug-payment-icon",(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"payplug-oney-flex",children:[(0,l.jsxs)("div",{children:[y.bring," :"]}),(0,l.jsxs)("div",{children:[m," ",e.billing.currency.symbol]})]}),(0,l.jsx)("div",{className:"payplug-oney-flex",children:(0,l.jsxs)("small",{children:["( ",y.oney_financing_cost,(0,l.jsxs)("b",{children:[r?.oney_response.x3_with_fees.total_cost," ",e.billing.currency.symbol]})," TAEG : ",(0,l.jsxs)("b",{children:[r?.oney_response.x3_with_fees.effective_annual_percentage_rate," %"]})," )"]})}),(0,l.jsxs)("div",{className:"payplug-oney-flex",children:[(0,l.jsxs)("div",{children:[y["1st monthly payment"],":"]}),(0,l.jsxs)("div",{children:[r?.oney_response.x3_with_fees.installments[0].amount," ",e.billing.currency.symbol]})]}),(0,l.jsxs)("div",{className:"payplug-oney-flex",children:[(0,l.jsxs)("div",{children:[y["2nd monthly payment"],":"]}),(0,l.jsxs)("div",{children:[r?.oney_response.x3_with_fees.installments[1].amount," ",e.billing.currency.symbol]})]}),(0,l.jsxs)("div",{className:"payplug-oney-flex",children:[(0,l.jsx)("div",{children:(0,l.jsx)("b",{children:y.oney_total})}),(0,l.jsx)("div",{children:(0,l.jsxs)("b",{children:[h," ",e.billing.currency.symbol]})})]})]}))}}else _=e=>{let s=e.shippingData.shippingAddress.country;return-1===u.indexOf(s)?(0,l.jsx)("div",{className:r?.oney_disabled.validations.country.class,children:r?.oney_disabled.validations.country.text}):e.cartData.cartItems.length>r?.requirements.max_quantity?(0,l.jsx)("div",{className:r?.oney_disabled.validations.items_count.class,children:r?.oney_disabled.validations.items_count.text}):e.billing.cartTotal.value>r?.requirements.max_threshold||e.billing.cartTotal.value<r?.requirements.min_threshold?(0,l.jsx)("div",{className:r?.oney_disabled.validations.amount.class,children:r?.oney_disabled.validations.amount.text}):void 0};const p=e=>(0,l.jsxs)("span",{style:{width:"100%"},children:[d,(0,l.jsx)(v,{})]}),v=e=>(console.log(JSON.stringify(e)),(0,l.jsx)("img",{src:r?.icon.src,alt:r?.icon.alt,className:r.icon.class,style:{float:"right"}}));let f={name:"oney_x3_with_fees",label:(0,l.jsx)(p,{}),content:(0,l.jsx)(_,{}),edit:(0,l.jsx)(_,{}),canMakePayment:e=>!0,ariaLabel:d,supports:{features:r.supports}};(0,t.registerPaymentMethod)(f)})();