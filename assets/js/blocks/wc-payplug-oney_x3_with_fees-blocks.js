(()=>{"use strict";var e={338:(e,t,n)=>{var l=n(795);t.createRoot=l.createRoot,t.hydrateRoot=l.hydrateRoot},20:(e,t,n)=>{var l=n(609),r=Symbol.for("react.element"),a=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),o=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var l,c={},i=null,m=null;for(l in void 0!==n&&(i=""+n),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(m=t.ref),t)a.call(t,l)&&!s.hasOwnProperty(l)&&(c[l]=t[l]);if(e&&e.defaultProps)for(l in t=e.defaultProps)void 0===c[l]&&(c[l]=t[l]);return{$$typeof:r,type:e,key:i,ref:m,props:c,_owner:o.current}}t.jsx=c,t.jsxs=c},848:(e,t,n)=>{e.exports=n(20)},609:e=>{e.exports=window.React},795:e=>{e.exports=window.ReactDOM}},t={};function n(l){var r=t[l];if(void 0!==r)return r.exports;var a=t[l]={exports:{}};return e[l](a,a.exports,n),a.exports}const l=window.wp.i18n,r=window.wc.wcBlocksRegistry,a=window.wp.htmlEntities,o=window.wc.wcSettings,s=window.wp.element,c=({settings:e,name:t,props:n})=>{const l=e?.translations;var r=parseFloat(e?.oney_response[t].down_payment_amount),a=r;e?.oney_response[t].installments.forEach((e=>{a+=parseFloat(e.amount)}));let o=void 0!==l["3rd_monthly_payment"];return(0,s.createElement)(s.Fragment,null,(0,s.createElement)("div",null,(0,s.createElement)("div",{className:"payplug-oney-flex"},(0,s.createElement)("div",null,l.bring," :"),(0,s.createElement)("div",null,r," ",n.billing.currency.symbol)),(0,s.createElement)("div",{className:"payplug-oney-flex"},(0,s.createElement)("small",null,"( ",l.oney_financing_cost,(0,s.createElement)("b",null,e?.oney_response[t].total_cost," ",n.billing.currency.symbol)," TAEG : ",(0,s.createElement)("b",null,e?.oney_response[t].effective_annual_percentage_rate," %")," )")),(0,s.createElement)("div",{className:"payplug-oney-flex"},(0,s.createElement)("div",null,l["1st_monthly_payment"],":"),(0,s.createElement)("div",null,e?.oney_response[t].installments[0].amount," ",n.billing.currency.symbol)),(0,s.createElement)("div",{className:"payplug-oney-flex"},(0,s.createElement)("div",null,l["2nd_monthly_payment"],":"),(0,s.createElement)("div",null,e?.oney_response[t].installments[1].amount," ",n.billing.currency.symbol)),o?(0,s.createElement)("div",{className:"payplug-oney-flex"},(0,s.createElement)("div",null,l["3rd_monthly_payment"],":"),(0,s.createElement)("div",null,e?.oney_response[t].installments[2].amount," ",n.billing.currency.symbol)):(0,s.createElement)(s.Fragment,null),(0,s.createElement)("div",{className:"payplug-oney-flex"},(0,s.createElement)("div",null,(0,s.createElement)("b",null,l.oney_total)),(0,s.createElement)("div",null,(0,s.createElement)("b",null,a.toFixed(2)," ",n.billing.currency.symbol)))))};var i=n(848);const m=(0,o.getSetting)("oney_x3_with_fees_data",{}),u=(0,l.__)("Gateway method title","payplug"),p=(0,a.decodeEntities)(m?.title)||u,y=e=>(0,i.jsx)(c,{settings:m,name:"x3_with_fees",props:e}),d=()=>(0,i.jsxs)("span",{style:{width:"100%"},children:[p,(0,i.jsx)(_,{})]}),_=()=>(0,i.jsx)("img",{src:m?.icon.src,alt:m?.icon.alt,className:m.icon.class,style:{float:"right"}});let w={name:"oney_x3_with_fees",label:(0,i.jsx)(d,{}),content:(0,i.jsx)(y,{}),edit:(0,i.jsx)(y,{}),canMakePayment:e=>!(e.cart.cartItemsCount>m?.requirements.max_quantity||e.cartTotals.total_price>m?.requirements.max_threshold||e.cartTotals.total_price<m?.requirements.min_threshold||-1===m?.requirements.allowed_country_codes.indexOf(e.shippingAddress.country)),ariaLabel:p,supports:{features:m.supports}};(0,r.registerPaymentMethod)(w),(()=>{if(window?.wp?.data?.select("wc/store/cart")&&document.body.classList.contains("woocommerce-cart")){const{createElement:e}=window.wp.element,{select:t}=window.wp.data,{createRoot:l}=n(338);let r=null;const a=()=>{const n=t("wc/store/cart");if(function(){let e=!1;return n.getCartData().items.forEach((function(t){["subscription","downloadable_subscription","virtual_subscription","variable-subscription","subscription_variation"].includes(t.type)&&(e=!0)})),e}())return!1;let l=n?.getCartTotals()?.total_price||0,r=0;n?.getCartData().items.forEach((e=>{r+=parseFloat(e.quantity)}));let a=!1;return a=l>=m?.requirements.min_threshold&&l<=m?.requirements.max_threshold&&r<=m?.requirements.max_quantity,e("div",{className:"wc-block-components-totals-item payplug-oney",style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},[e("div",{className:"oney-message",style:{display:"flex",alignItems:"center",gap:"8px"}},m.oney_cart_label),e("img",{src:m?.oney_cart_logo,alt:"Oney Payplug",className:"oney-3x4x "+(a?"":"disable-checkout-icons"),style:{maxWidth:"50%",height:"auto",display:"block",margin:"10px 0"}})])},o=()=>{try{if(document.querySelector(".wc-block-components-totals-wrapper")){let e=document.querySelector(".payplug-totals-container");const t=document.querySelector(".wc-block-components-totals-wrapper");e||(e=document.createElement("div"),e.className="payplug-totals-container",t.insertBefore(e,t.firstChild),r=l(e)),r&&r.render(a())}}catch(e){console.error("Render error:",e)}};new MutationObserver(((e,n)=>{document.querySelector(".wc-block-components-totals-wrapper")&&window.wc?.blocksCheckout&&(n.disconnect(),o(),wp.data.subscribe((()=>{const e=t("wc/store/cart"),n=e?.getCartTotals();n&&o()})))})).observe(document.body,{childList:!0,subtree:!0})}})()})();
