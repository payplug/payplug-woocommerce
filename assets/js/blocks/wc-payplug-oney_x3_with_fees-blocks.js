(()=>{"use strict";var e={20:(e,s,n)=>{var t=n(609),i=Symbol.for("react.element"),o=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),r=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function a(e,s,n){var t,a={},c=null,d=null;for(t in void 0!==n&&(c=""+n),void 0!==s.key&&(c=""+s.key),void 0!==s.ref&&(d=s.ref),s)o.call(s,t)&&!l.hasOwnProperty(t)&&(a[t]=s[t]);if(e&&e.defaultProps)for(t in s=e.defaultProps)void 0===a[t]&&(a[t]=s[t]);return{$$typeof:i,type:e,key:c,ref:d,props:a,_owner:r.current}}s.jsx=a,s.jsxs=a},848:(e,s,n)=>{e.exports=n(20)},609:e=>{e.exports=window.React}},s={};const n=window.wp.i18n,t=window.wc.wcBlocksRegistry,i=window.wp.htmlEntities,o=window.wc.wcSettings;var r=function n(t){var i=s[t];if(void 0!==i)return i.exports;var o=s[t]={exports:{}};return e[t](o,o.exports,n),o.exports}(848);const{useSelect:l}=wp.data,a=(0,o.getSetting)("oney_x3_with_fees_data",{}),c=(0,n.__)("Gateway method title","payplug"),d=(0,i.decodeEntities)(a?.title)||c;let _;const p=a?.translations,y=a?.allowed_country_codes;if(console.log("allowed_country_codes : "+JSON.stringify(y)),a?.oney_response){const e=(0,i.decodeEntities)(a?.oney_response.x3_with_fees.down_payment_amount)||c;let s=e;a?.oney_response.x3_with_fees.installments.forEach((e=>{s+=e.amount}));const n=(0,i.decodeEntities)(a?.currency);_=t=>{let i=t.shippingData.shippingAddress.country;return-1===y.indexOf(i)?(0,r.jsx)("div",{className:a?.oney_disabled.description.class,children:a?.oney_disabled.description.text}):(0,r.jsxs)("p",{children:[(0,r.jsxs)("div",{className:"payplug-oney-flex",children:[(0,r.jsxs)("div",{children:[p.bring," :"]}),(0,r.jsxs)("div",{children:[e," ",n]})]}),(0,r.jsx)("div",{className:"payplug-oney-flex",children:(0,r.jsxs)("small",{children:["( ",p.oney_financing_cost," ",(0,r.jsxs)("b",{children:[a?.oney_response.x3_with_fees.total_cost," ",n]})," TAEG : ",(0,r.jsxs)("b",{children:[a?.oney_response.x3_with_fees.effective_annual_percentage_rate," %"]})," )"]})}),(0,r.jsxs)("div",{className:"payplug-oney-flex",children:[(0,r.jsxs)("div",{children:[p["1st monthly payment"],":"]}),(0,r.jsxs)("div",{children:[a?.oney_response.x3_with_fees.installments[0].amount," ",n]})]}),(0,r.jsxs)("div",{className:"payplug-oney-flex",children:[(0,r.jsxs)("div",{children:[p["2nd monthly payment"],":"]}),(0,r.jsxs)("div",{children:[a?.oney_response.x3_with_fees.installments[1].amount," ",n]})]}),(0,r.jsxs)("div",{className:"payplug-oney-flex",children:[(0,r.jsx)("div",{children:(0,r.jsx)("b",{children:p.oney_total})}),(0,r.jsx)("div",{children:(0,r.jsxs)("b",{children:[s," ",n]})})]})]})}}else _=()=>(0,r.jsx)("div",{className:a?.description.class,children:a?.description.text});const x=e=>(console.log("label : "+JSON.stringify(e)),(0,r.jsxs)("span",{style:{width:"100%"},children:[d,(0,r.jsx)(h,{})]})),h=()=>(0,r.jsx)("img",{src:a?.icon.src,alt:a?.icon.alt,className:a?.icon.class,style:{float:"right"}});let f={name:"oney_x3_with_fees",label:(0,r.jsx)(x,{}),content:(0,r.jsx)(_,{}),edit:(0,r.jsx)(_,{}),canMakePayment:e=>{e.cartTotals.total_price;let s=e.shippingAddress.country;return y.indexOf(s),!0},ariaLabel:d,supports:{features:a.supports}};(0,t.registerPaymentMethod)(f)})();